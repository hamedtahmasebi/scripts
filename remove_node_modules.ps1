# Define the root directory to start searching from
$rootDirectory = "./"

# Function to recursively remove node_modules folders
function Remove-NodeModules {
    param (
        [string]$Path
    )

    # Get all subdirectories in the current directory
    $subDirectories = Get-ChildItem -Path $Path -Directory

    foreach ($dir in $subDirectories) {
        # If the directory is named "node_modules", remove it
        if ($dir.Name -eq "node_modules") {
            Write-Host "Removing $($dir.FullName)"
            Remove-Item -Path $dir.FullName -Recurse -Force
        } else {
            # Recursively call the function for other directories
            Remove-NodeModules -Path $dir.FullName
        }
    }
}

# Start the process from the root directory
Remove-NodeModules -Path $rootDirectory

Write-Host "All node_modules folders have been removed."
